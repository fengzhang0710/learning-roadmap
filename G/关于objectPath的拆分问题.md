关于objectPath的拆分问题



1.怎么拆分

​	目前的objectPath是一个大的数组，可能会超过mongo给定的16M的限制，所以需要拆分出来

* 假设整个objectPath的长度都是一样的

  根据objectPath的长度，推算出16m的限制里，可以保存多少张每个长度对应的objectPath的数量，根据每次来的长度做判断即可

* 假设不一样

  精确模式。计算出所有要保存的string的占比的总byte的数量。

  * 虽然总的数量可以确定，但是相同的byte总数量，不同的组合导致的值也不相同(20byte * 5w) 和 50byte * 2w的占比，对应到mongo里面，占比的内容也不一样，











76-58 = 18个

94-76 = 18个

112-94=18个



null == 2 + 1



16/1 = 16/2 = 8





计算100 = 

43 + 15 + 99 * 18 = 1930



60*15 + 	

| 长度 | 1个      | 2个  | 3个  | 1w     | 10w      | 50w      |      |      |       |
| ---- | -------- | ---- | ---- | ------ | -------- | -------- | ---- | ---- | ----- |
| 10个 | 43/58=15 | 76   | 94   | 208930 | 2188930  | 11388930 |      |      | 1:2   |
| 15个 | 63       | 86   | 109  | 258930 | 2688930  | 13888930 |      |      | 1:1.8 |
| 20个 | 68       | 96   | 124  | 308930 | 318 8930 |          |      |      | 1:1.6 |
| 30个 |          |      |      |        | 418 8930 |          |      |      | 1:1.3 |

100个		11188930  接近1:1.1